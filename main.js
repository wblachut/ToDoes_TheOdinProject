(()=>{"use strict";const e=(e,t,n,i,l,o="")=>({name:e,description:t,priority:n,dueDate:i,checklist:l,notes:o,addToTaskList:()=>{console.log("addToTaskList")},setName:e=>(void 0).name=e});let t=[];const n=(e,n="in progress",i=[])=>({name:e,taskList:i,status:n,_setName:e=>(void 0).name=e,getName:()=>e,_setStatus:e=>(void 0).status=e,getStatus:()=>e,addToProjectList:()=>{console.log("addToProjectList"),t.push(void 0)},addTask:e=>{i.push(e)},getTasks:()=>i});document.body.onload=function(){console.log("addBaseElements");const i=document.getElementById("main"),l=document.createElement("nav");l.id="navbar",i.appendChild(l);const o=document.createElement("div");o.id="logo-div",o.innerHTML='<img src="/Logo.png">',l.appendChild(o);const c=document.createElement("div");c.id="top-buttons",l.appendChild(c);const a=document.createElement("button");a.id="add-task-button",a.textContent="+",c.appendChild(a);const d=document.createElement("button");d.id="menage-projects-button",d.innerHTML="˂",c.appendChild(d);const s=document.createElement("aside");s.id="projects-nav",i.appendChild(s);const u=document.createElement("button");u.id="new-project-button",u.innerHTML="new project",s.appendChild(u),(()=>{console.log("handleDOMEvents");const i=document.getElementById("main"),l=document.createElement("div");l.id="container",i.appendChild(l);const o=document.getElementById("menage-projects-button"),c=document.getElementById("projects-nav"),a=document.getElementById("new-project-button"),d=document.createElement("ul");d.innerHTML='<li> <input type="text" id="project-name-input" placeholder="New project name" autofocus></li>\n  <li> <button id="add-project-button">add new Project</button> </li>',d.id="new-project-ul",c.insertBefore(d,c.children[0].nextElementSibling),o.addEventListener("click",(function(){c.classList.toggle("active"),o.classList.toggle("active"),o.classList.contains("active")?o.textContent=" Projects ":o.textContent="˂"})),a.addEventListener("click",(function(){d.classList.toggle("active")}));const s=document.getElementById("project-name-input");document.getElementById("add-project-button").addEventListener("click",(function(e){let i;e.preventDefault(),i=""==s.value?"My Project":s.value;const l=n(i);t.push(l),console.log(t),d.classList.remove("active"),v()}));const u=n("Default Project"),r=n("The Project"),m=e("Cleaning","do the cleaning of my room","medium","11.11.2020",["make the bed","vaccum","clean windows","clean surfaces","empty the trash"],"just some cleaning nannanananan, tadada, nanananannaanna, taadadadat"),p=e("Programming","learn JS React and Angular","high","01.12.2020",["Finish ToDos","make MB website","finish React"]),M=e("Christmas","Prepare for Christmas","low","20.12.2020",["order presents","do the shopping","clean house","pack gifts","prepare meals"]);u.addTask(m),u.addTask(p),u.addTask(M),t.push(u),t.push(r);let g=t[0];function v(){t.forEach(((e,t)=>{console.log(t,e.name);const n=document.createElement("button");return document.getElementById("Project"+t)||(n.id="Project"+t,n.classList.add("project"),n.innerText=e.name,c.appendChild(n)),n.addEventListener("click",(function(){return console.log("current project:",t,e),g=e})),g})),function(){const e=document.getElementById("projects-select");t.forEach(((t,n)=>{if(!document.getElementById(`project-opt${n}}`)){const i=document.createElement("option");i.id="project-opt"+n,i.innerText=t.name,e.appendChild(i)}}))}(),function(){const e=document.querySelectorAll(".project");e.forEach(((t,n)=>{t.addEventListener("click",(n=>{e.forEach((e=>e.classList.remove("active-project"))),y(),t.classList.add("active-project")}))}))}()}function y(){!function(e){for(;e.firstChild;)e.removeChild(e.lastChild)}(l),g.taskList.forEach(((e,t)=>{const n=document.createElement("div");if(!document.getElementById("Task"+t)){n.id="Task"+t,n.classList.add("Task");let i="";e.checklist.forEach(((e,t)=>(i+=`<li id="bullet${t}" class="checklist-li"><label class="task-checklist-bullet" for="bullet${t}">✦</label>${e}</li>`,i)));let o="";""!=e.notes&&(o=`<br>\n      <li><div class ="task-description"> Notes: </div></li>\n      <li><div class ="task-notes">${e.notes}</div></li>`),n.innerHTML=`<ul><li><div class="task-title">${e.name}</div>\n        <div class ="${e.priority}-priority">${e.priority} priority</div></li>\n        <li><div class ="task-description">${e.description}</div></li>\n        <li><div class ="task-dueDate">due to: ${e.dueDate}</div></li>\n        <ul class="task-checklist-ul">${i} </ul>\n        ${o}\n            <li><button class ="edit-task-button">\n        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMS40MzggMTYuODcybC0xLjQzOCA3LjEyOCA3LjEyNy0xLjQzOCAxMi42NDItMTIuNjQtNS42OS01LjY5LTEyLjY0MSAxMi42NHptMi4yNzEgMi4yNTNsLS44NS0uODQ5IDExLjE0MS0xMS4xMjUuODQ5Ljg0OS0xMS4xNCAxMS4xMjV6bTIwLjI5MS0xMy40MzZsLTIuODE3IDIuODE5LTUuNjktNS42OTEgMi44MTYtMi44MTcgNS42OTEgNS42ODl6Ii8+PC9zdmc+"> Edit </button>\n            <button class ="save-changes-button">\n        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMjIgMnYyMmgtMjB2LTIyaDNjMS4yMyAwIDIuMTgxLTEuMDg0IDMtMmg4Yy44Mi45MTYgMS43NzEgMiAzIDJoM3ptLTExIDFjMCAuNTUyLjQ0OCAxIDEgMSAuNTUzIDAgMS0uNDQ4IDEtMXMtLjQ0Ny0xLTEtMWMtLjU1MiAwLTEgLjQ0OC0xIDF6bTkgMWgtNGwtMiAyaC0zLjg5N2wtMi4xMDMtMmgtNHYxOGgxNnYtMTh6bS0xMyA5LjcyOWwuODU1LS43OTFjMSAuNDg0IDEuNjM1Ljg1MiAyLjc2IDEuNjU0IDIuMTEzLTIuMzk5IDMuNTExLTMuNjE2IDYuMTA2LTUuMjMxbC4yNzkuNjRjLTIuMTQxIDEuODY5LTMuNzA5IDMuOTQ5LTUuOTY3IDcuOTk5LTEuMzkzLTEuNjQtMi4zMjItMi42ODYtNC4wMzMtNC4yNzF6Ii8+PC9zdmc+"> Save </button>\n            <button class ="archive-task-button">\n        <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMS44IDlsLS44LTRoMjJsLS44IDRoLTIuMDI5bC4zOS0yaC0xNy4xMjJsLjQxNCAyaC0yLjA1M3ptMTguNTc1LTZsLjYwNC0yaC0xNy45NzlsLjY4OCAyaDE2LjY4N3ptMy42MjUgOGwtMiAxM2gtMjBsLTItMTNoMjR6bS04IDRjMC0uNTUyLS40NDctMS0xLTFoLTZjLS41NTMgMC0xIC40NDgtMSAxcy40NDcgMSAxIDFoNmMuNTUzIDAgMS0uNDQ4IDEtMXoiLz48L3N2Zz4="> Archive </button></li>\n        `,l.appendChild(n),document.querySelectorAll(".checklist-li").forEach((e=>{e.addEventListener("click",(function(){e.classList.toggle("crossed")}))})),function(){const t=document.querySelector(".edit-task-button");document.querySelector(".save-changes-button"),t.addEventListener("click",(function(){console.log("edit "+e)}))}(),document.querySelector(".archive-task-button").addEventListener("click",(()=>{taskList.slice(e.index,1),y()}))}}))}const I=document.createElement("div");I.id="add-task-modal",I.innerHTML='\n        <form id="new-task"> <div id="add-task-window">\n        <ul>\n        <div>  </div>\n        <li><input type="text" id="task-name-input" placeholder="New task" required></li>\n        <li><input type="text" id="description-input" placeholder="description"></li>\n        <li><label for="date">due to </label><input type="date" id="date-input" required></li>\n        <li><label for="priority"> Priority </label><select name="priority" id="priority-select" default="normal">\n        <option value="low"> low </option>\n        <option value="medium"> normal </option>\n        <option value="high"> important </option>\n        </select></li>\n        <label for="checklist">checklist:</label><button id="add-bullet">+</button><button id="remove-bullet">-</button>\n        <ul id="checklist-ul">\n\n        <li><label class="checklist-bullet" for="bullet1">✦</label><input type="text" class="checklist-input" id="bullet2" placeholder="add your text"></li> </ul>\n        <li><label for="notes">notes:</label></li>\n        <li><textarea id="notes-textarea" name="task notes" placeholder="add task notes"></textarea></li>\n        <div id="add-task-checklist"\n          <br>\n          <br>\n        <li><label for="projects">chose project:</label>\n        <select name="projects" id="projects-select"></select></li>\n        <li><input type="submit" value="Add task" id="submit-task"> </li>\n      </ul></div>\n    </form>',l.appendChild(I);const L=document.getElementById("add-task-button");L.addEventListener("click",(function(e){e.preventDefault(),L.classList.toggle("active"),I.classList.toggle("active")}));const j=document.getElementById("checklist-ul");document.getElementById("add-bullet").addEventListener("click",(function(e){e.preventDefault();const t=document.createElement("li");t.innerHTML=' <li><label class="checklist-bullet" for="bullet">✦</label><input type="text" class="checklist-input" placeholder="add your text"></li> ',j.appendChild(t)})),document.getElementById("remove-bullet").addEventListener("click",(function(e){e.preventDefault(),j.lastChild&&j.removeChild(j.lastChild)})),document.getElementById("new-task").addEventListener("submit",(function(n){n.preventDefault();let i=document.getElementById("task-name-input"),l=document.getElementById("description-input"),o=document.getElementById("date-input"),c=document.getElementById("priority-select"),a=document.getElementById("projects-select"),d=document.getElementById("notes-textarea"),s=document.querySelectorAll(".checklist-input"),u=[];s.forEach((e=>{""!=e.value&&u.push(e.value)}));let r=a.options[a.selectedIndex].id.slice(-1),m=t[r];console.log("selected project:",r,a.value);const p=e(i.value,l.value,c.value,o.value,u,d.value);m.taskList.push(p),console.log(t),y()})),v(),y(),i.appendChild(I)})()}})();